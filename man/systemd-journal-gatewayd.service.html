<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>systemd-journal-gatewayd.service</title><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><a href="index.html">Index </a>·
  <a href="systemd.directives.html">Directives </a>·
  <a href="../python-systemd/index.html">Python </a>·
  <a href="../libudev/index.html">libudev </a>·
  <a href="../libudev/index.html">gudev </a><hr><div class="refentry"><a name="systemd-journal-gatewayd.service"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>systemd-journal-gatewayd.service, systemd-journal-gatewayd.socket, systemd-journal-gatewayd — HTTP server for journal events</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><p><code class="filename">systemd-journal-gatewayd.service</code></p><p><code class="filename">systemd-journal-gatewayd.socket</code></p><div class="cmdsynopsis"><p><code class="command">/usr/lib/systemd/systemd-journal-gatewayd</code>  [OPTIONS...]</p></div></div><div class="refsect1"><a name="idp3911824"></a><h2>Description</h2><p><span class="command"><strong>systemd-journal-gatewayd</strong></span> serves journal
    events over the network. Clients must connect using
    HTTP. The server listens on port 19531 by default.
    If <code class="option">--cert=</code> is specified, the server expects
    HTTPS connections.</p><p>The program is started by
    <a href="systemd.html"><span class="citerefentry"><span class="refentrytitle">systemd</span>(1)</span></a>
    and expects to receive a single socket. Use
    <span class="command"><strong>systemctl start systemd-journal-gatewayd.socket</strong></span> to start
    the service, and <span class="command"><strong>systemctl enable systemd-journal-gatewayd.socket</strong></span>
    to have it started on boot.</p></div><div class="refsect1"><a name="idp3916832"></a><h2>Options</h2><p>The following options are understood:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--help</code>, </span><span class="term"><code class="option">-h</code></span></dt><dd><p>Prints a short help
        text and exits.</p></dd><dt><span class="term"><code class="option">--version</code></span></dt><dd><p>Prints a short version
        string and exits.</p></dd><dt><span class="term"><code class="option">--cert=</code></span></dt><dd><p>Specify the path to a file containing a server
        certificate in PEM format. This option switches
        <span class="command"><strong>systemd-journal-gatewayd</strong></span> into HTTPS mode
        and must be used together with
        <code class="option">--key=</code>.</p></dd><dt><span class="term"><code class="option">--key=</code></span></dt><dd><p>Specify the path to a file containing a server
        key in PEM format corresponding to the certificate specified
        with <code class="option">--cert=</code>.</p></dd></dl></div></div><div class="refsect1"><a name="idp27408"></a><h2>Supported URLs</h2><p>The following URLs are recognized:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="uri">/browse</code></span></dt><dd><p>Interactive browsing.</p></dd><dt><span class="term"><code class="uri">/entries[?option1&amp;option2=value...]</code></span></dt><dd><p>Retrieval of events in various formats.</p><p>The <code class="option">Accept:</code> part of the HTTP header
        determines the format. Supported values are described below.
        </p><p>The <code class="option">Range:</code> part of the HTTP header
        determines the range of events returned. Supported values are
        described below.
        </p><p>GET parameters can be used to modify what events are
        returned. Supported parameters are described below.</p></dd><dt><span class="term"><code class="uri">/machine</code></span></dt><dd><p>Return a JSON structure describing the machine.</p><p>Example:
        </p><pre class="programlisting">
{ "machine_id" : "8cf7ed9d451ea194b77a9f118f3dc446",
  "boot_id" : "3d3c9efaf556496a9b04259ee35df7f7",
  "hostname" : "fedora",
  "os_pretty_name" : "Fedora 19 (Rawhide)",
  "virtualization" : "kvm",
  ...}
        </pre><p>
        </p></dd><dt><span class="term"><code class="uri">/fields/<em class="replaceable"><code>FIELD_NAME</code></em></code></span></dt><dd><p>Return a list of values of this field present in the logs.</p></dd></dl></div></div><div class="refsect1"><a name="idp39344"></a><h2>Accept header</h2><p>
      <code class="option">Accept: <em class="replaceable"><code>format</code></em></code>
    </p><p>Recognized formats:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="constant">text/plain</code></span></dt><dd><p>The default. Plaintext syslog-like output,
        one line per journal entry
        (like <span class="command"><strong>journalctl --output short</strong></span>).</p></dd><dt><span class="term"><code class="constant">application/json</code></span></dt><dd><p>Entries are formatted as JSON data structures,
        one per line
        (like <span class="command"><strong>journalctl --output json</strong></span>).
        See <a class="ulink" href="http://www.freedesktop.org/wiki/Software/systemd/json" target="_top">Journal
        JSON Format</a> for more information.</p></dd><dt><span class="term"><code class="constant">application/event-stream</code></span></dt><dd><p>Entries are formatted as JSON data structures,
        wrapped in a format suitable for <a class="ulink" href="https://developer.mozilla.org/en-US/docs/Server-sent_events/Using_server-sent_events" target="_top">
        Server-Sent Events</a>
        (like <span class="command"><strong>journalctl --output json-sse</strong></span>).
        </p></dd><dt><span class="term"><code class="constant">application/vnd.fdo.journal</code></span></dt><dd><p>Entries are serialized into a binary (but
        mostly text-based) stream suitable for backups and network
        transfer
        (like <span class="command"><strong>journalctl --output export</strong></span>).
        See <a class="ulink" href="http://www.freedesktop.org/wiki/Software/systemd/export" target="_top">Journal
        Export Format</a> for more information.</p></dd></dl></div></div><div class="refsect1"><a name="idp60864"></a><h2>Range header</h2><p>
      <code class="option">Range: entries=<em class="replaceable"><code>cursor</code></em>[[:<em class="replaceable"><code>num_skip</code></em>]:<em class="replaceable"><code>num_entries</code></em>]</code>
    </p><p>where
      <code class="option">cursor</code> is a cursor string,
      <code class="option">num_skip</code> is an integer,
      <code class="option">num_entries</code> is an unsigned integer.
    </p><p>Range defaults to all available events.</p></div><div class="refsect1"><a name="idp65984"></a><h2>URL GET parameters</h2><p>Following parameters can be used as part of the URL:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="uri">follow</code></span></dt><dd><p>wait for new events
        (like <span class="command"><strong>journalctl --follow</strong></span>, except that
        the number of events returned is not limited).</p></dd><dt><span class="term"><code class="uri">discrete</code></span></dt><dd><p>Test that the specified cursor refers to an
        entry in the journal. Returns just this entry.</p></dd><dt><span class="term"><code class="uri">boot</code></span></dt><dd><p>Limit events to the current boot of the system
        (like <span class="command"><strong>journalctl --this--boot</strong></span>).</p></dd><dt><span class="term"><code class="uri"><em class="replaceable"><code>KEY</code></em>=<em class="replaceable"><code>match</code></em></code></span></dt><dd><p>Match journal fields. See
        <a href="systemd.journal-fields.html"><span class="citerefentry"><span class="refentrytitle">systemd.journal-fields</span>(7)</span></a>.</p></dd></dl></div></div><div class="refsect1"><a name="idp4988528"></a><h2>Examples</h2><p>Retrieve events from this boot from local journal
    in <a class="ulink" href="http://www.freedesktop.org/wiki/Software/systemd/export" target="_top">Journal
    Export Format</a>:
    </p><pre class="programlisting">
curl --silent -H'Accept: application/vnd.fdo.journal' \
       'http://localhost:19531/entries?boot'
    </pre><p>
    </p><p>Listen for core dumps:
    </p><pre class="programlisting">
curl 'http://localhost:19531/entries?follow&amp;MESSAGE_ID=fc2e22bc6ee647b6b90729ab34a250b1'
    </pre></div><div class="refsect1"><a name="idp4992240"></a><h2>See Also</h2><p>
      <a href="systemd.html"><span class="citerefentry"><span class="refentrytitle">systemd</span>(1)</span></a>,
      <a href="journalctl.html"><span class="citerefentry"><span class="refentrytitle">journalctl</span>(1)</span></a>,
      <a href="systemd-journald.service.html"><span class="citerefentry"><span class="refentrytitle">systemd-journald.service</span>(8)</span></a>,
      <a href="systemd.journal-fields.html"><span class="citerefentry"><span class="refentrytitle">systemd.journal-fields</span>(7)</span></a>,
    </p></div></div></body></html>
