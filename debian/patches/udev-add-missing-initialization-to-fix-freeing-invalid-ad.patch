From: Yu Watanabe <watanabe.yu+github@gmail.com>
Date: Wed, 7 Apr 2021 19:09:50 +0900
Subject: udev: add missing initialization to fix freeing invalid address

---
 src/udev/udev-builtin-net_id.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/udev/udev-builtin-net_id.c b/src/udev/udev-builtin-net_id.c
index 66c52e6..53653c4 100644
--- a/src/udev/udev-builtin-net_id.c
+++ b/src/udev/udev-builtin-net_id.c
@@ -358,8 +358,8 @@ static int dev_pci_slot(sd_device *dev, struct netnames *names) {
                  */
                 if (naming_scheme_has(NAMING_SLOT_FUNCTION_ID) &&
                     sd_device_get_sysattr_value(hotplug_slot_dev, "function_id", &attr) >= 0) {
+                        _cleanup_free_ char *str = NULL;
                         int function_id;
-                        _cleanup_free_ char *str;
 
                         if (safe_atoi(attr, &function_id) >= 0 &&
                             asprintf(&str, "%s/%08x/", slots, function_id) >= 0 &&
