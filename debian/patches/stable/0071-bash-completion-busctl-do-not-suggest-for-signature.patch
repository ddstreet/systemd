From 8e27c889ae7b3bed634b4c67f4d43b94806799e3 Mon Sep 17 00:00:00 2001
From: Yu Watanabe <watanabe.yu+github@gmail.com>
Date: Fri, 30 Mar 2018 17:08:11 +0900
Subject: [PATCH] bash-completion: busctl: do not suggest "-" for signature

Fixes #8371.

(cherry picked from commit 4cbb7c500aa664452f45f8ec5a2b1f79a872eb2e)
---
 shell-completion/bash/busctl | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/shell-completion/bash/busctl b/shell-completion/bash/busctl
index cfa4d4fa83..c467b291b3 100644
--- a/shell-completion/bash/busctl
+++ b/shell-completion/bash/busctl
@@ -70,7 +70,7 @@ __get_signature() {
         local interface=$4
         local member=$5
         local a b
-        busctl $mode introspect --list --no-legend --no-pager $busname $path $interface | sed -e 's/^\.//' | { while read a b c d; do [[ "$a" == "$member" ]] && echo " \"$c\""; done; };
+        busctl $mode introspect --list --no-legend --no-pager $busname $path $interface | sed -e 's/^\.//' | { while read a b c d; do [[ "$a" == "$member" && "$c" != '-' ]] && echo " \"$c\""; done; };
 }
 
 _busctl() {
-- 
2.17.0

