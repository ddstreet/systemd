From d903ee2cab000704b19427629fdb262403093481 Mon Sep 17 00:00:00 2001
From: Lennart Poettering <lennart@poettering.net>
Date: Wed, 2 May 2018 16:55:37 +0200
Subject: [PATCH] man: document /efi in file-hiearchy(7)

We have been supporting the directory since a while in the gpt
generator, let's document it in file-hierarchy(7) too

(cherry picked from commit 1dc7ca9912bbed8ad2d63b15cfc77d1cd620b149)
---
 man/file-hierarchy.xml | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

diff --git a/man/file-hierarchy.xml b/man/file-hierarchy.xml
index 07cd458f70..f14b9aa250 100644
--- a/man/file-hierarchy.xml
+++ b/man/file-hierarchy.xml
@@ -87,7 +87,7 @@
         <term><filename>/boot</filename></term>
         <listitem><para>The boot partition used for bringing up the
         system. On EFI systems, this is possibly the EFI System
-        Partition, also see
+        Partition (ESP), also see
         <citerefentry><refentrytitle>systemd-gpt-auto-generator</refentrytitle><manvolnum>8</manvolnum></citerefentry>.
         This directory is usually strictly local to the host, and
         should be considered read-only, except when a new kernel or
@@ -96,6 +96,15 @@
         requires boot loaders.</para></listitem>
       </varlistentry>
 
+      <varlistentry>
+        <term><filename>/efi/</filename></term>
+        <listitem><para>If the boot partition <filename>/boot/</filename> is maintained separately from the EFI System
+        Partition (ESP), the latter is mounted here. Tools that need to operate on the EFI system partition should look
+        for it at this mount point first, and fall back to <filename>/boot/</filename> â€” if the former doesn't qualify
+        (for example if it is not a mount point or does not have the correct file system type
+        <constant>MSDOS_SUPER_MAGIC</constant>).</para></listitem>
+      </varlistentry>
+
       <varlistentry>
         <term><filename>/etc</filename></term>
         <listitem><para>System-specific configuration. This directory
-- 
2.17.0

